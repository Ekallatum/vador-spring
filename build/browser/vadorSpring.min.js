(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.vadorSpring = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
!function(o){function e(o){throw RangeError(L[o])}function n(o,e){for(var n=o.length;n--;)o[n]=e(o[n]);return o}function t(o,e){return n(o.split(S),e).join(".")}function r(o){for(var e,n,t=[],r=0,u=o.length;u>r;)e=o.charCodeAt(r++),e>=55296&&56319>=e&&u>r?(n=o.charCodeAt(r++),56320==(64512&n)?t.push(((1023&e)<<10)+(1023&n)+65536):(t.push(e),r--)):t.push(e);return t}function u(o){return n(o,function(o){var e="";return o>65535&&(o-=65536,e+=R(o>>>10&1023|55296),o=56320|1023&o),e+=R(o)}).join("")}function i(o){return 10>o-48?o-22:26>o-65?o-65:26>o-97?o-97:x}function f(o,e){return o+22+75*(26>o)-((0!=e)<<5)}function c(o,e,n){var t=0;for(o=n?P(o/m):o>>1,o+=P(o/e);o>M*C>>1;t+=x)o=P(o/M);return P(t+(M+1)*o/(o+j))}function l(o){var n,t,r,f,l,d,s,a,p,h,v=[],g=o.length,w=0,j=I,m=A;for(t=o.lastIndexOf(F),0>t&&(t=0),r=0;t>r;++r)o.charCodeAt(r)>=128&&e("not-basic"),v.push(o.charCodeAt(r));for(f=t>0?t+1:0;g>f;){for(l=w,d=1,s=x;f>=g&&e("invalid-input"),a=i(o.charCodeAt(f++)),(a>=x||a>P((b-w)/d))&&e("overflow"),w+=a*d,p=m>=s?y:s>=m+C?C:s-m,!(p>a);s+=x)h=x-p,d>P(b/h)&&e("overflow"),d*=h;n=v.length+1,m=c(w-l,n,0==l),P(w/n)>b-j&&e("overflow"),j+=P(w/n),w%=n,v.splice(w++,0,j)}return u(v)}function d(o){var n,t,u,i,l,d,s,a,p,h,v,g,w,j,m,E=[];for(o=r(o),g=o.length,n=I,t=0,l=A,d=0;g>d;++d)v=o[d],128>v&&E.push(R(v));for(u=i=E.length,i&&E.push(F);g>u;){for(s=b,d=0;g>d;++d)v=o[d],v>=n&&s>v&&(s=v);for(w=u+1,s-n>P((b-t)/w)&&e("overflow"),t+=(s-n)*w,n=s,d=0;g>d;++d)if(v=o[d],n>v&&++t>b&&e("overflow"),v==n){for(a=t,p=x;h=l>=p?y:p>=l+C?C:p-l,!(h>a);p+=x)m=a-h,j=x-h,E.push(R(f(h+m%j,0))),a=P(m/j);E.push(R(f(a,0))),l=c(t,w,u==i),t=0,++u}++t,++n}return E.join("")}function s(o){return t(o,function(o){return E.test(o)?l(o.slice(4).toLowerCase()):o})}function a(o){return t(o,function(o){return O.test(o)?"xn--"+d(o):o})}var p="object"==typeof exports&&exports,h="object"==typeof module&&module&&module.exports==p&&module,v="object"==typeof global&&global;(v.global===v||v.window===v)&&(o=v);var g,w,b=2147483647,x=36,y=1,C=26,j=38,m=700,A=72,I=128,F="-",E=/^xn--/,O=/[^ -~]/,S=/\x2E|\u3002|\uFF0E|\uFF61/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=x-y,P=Math.floor,R=String.fromCharCode;if(g={version:"1.2.4",ucs2:{decode:r,encode:u},decode:l,encode:d,toASCII:a,toUnicode:s},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&!p.nodeType)if(h)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else o.punycode=g}(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],2:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;p>y;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],3:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};
},{}],4:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":2,"./encode":3}],5:[function(require,module,exports){
function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}function isString(t){return"string"==typeof t}function isObject(t){return"object"==typeof t&&null!==t}function isNull(t){return null===t}function isNullOrUndefined(t){return null==t}var punycode=require("punycode");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t;h=h.trim();var r=protocolPattern.exec(h);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,h=h.substr(r.length)}if(e||r||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===h.substr(0,2);!a||r&&hostlessProtocol[r]||(h=h.substr(2),this.slashes=!0)}if(!hostlessProtocol[r]&&(a||r&&!slashedProtocol[r])){for(var n=-1,i=0;i<hostEndingChars.length;i++){var l=h.indexOf(hostEndingChars[i]);-1!==l&&(-1===n||n>l)&&(n=l)}var c,u;u=-1===n?h.lastIndexOf("@"):h.lastIndexOf("@",n),-1!==u&&(c=h.slice(0,u),h=h.slice(u+1),this.auth=decodeURIComponent(c)),n=-1;for(var i=0;i<nonHostChars.length;i++){var l=h.indexOf(nonHostChars[i]);-1!==l&&(-1===n||n>l)&&(n=l)}-1===n&&(n=h.length),this.host=h.slice(0,n),h=h.slice(n),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var f=this.hostname.split(/\./),i=0,m=f.length;m>i;i++){var v=f[i];if(v&&!v.match(hostnamePartPattern)){for(var g="",y=0,d=v.length;d>y;y++)g+=v.charCodeAt(y)>127?"x":v[y];if(!g.match(hostnamePartPattern)){var P=f.slice(0,i),b=f.slice(i+1),j=v.match(hostnamePartStart);j&&(P.push(j[1]),b.unshift(j[2])),b.length&&(h="/"+b.join(".")+h),this.hostname=P.join(".");break}}}if(this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var O=this.hostname.split("."),q=[],i=0;i<O.length;++i){var x=O[i];q.push(x.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(x):x)}this.hostname=q.join(".")}var U=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+U,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!unsafeProtocol[o])for(var i=0,m=autoEscape.length;m>i;i++){var A=autoEscape[i],E=encodeURIComponent(A);E===A&&(E=escape(A)),h=h.split(A).join(E)}var w=h.indexOf("#");-1!==w&&(this.hash=h.substr(w),h=h.slice(0,w));var R=h.indexOf("?");if(-1!==R?(this.search=h.substr(R),this.query=h.substr(R+1),s&&(this.query=querystring.parse(this.query)),h=h.slice(0,R)):s&&(this.search="",this.query={}),h&&(this.pathname=h),slashedProtocol[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",x=this.search||"";this.path=U+x}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&isObject(this.query)&&Object.keys(this.query).length&&(o=querystring.stringify(this.query));var a=this.search||o&&"?"+o||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&r!==!1?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),a&&"?"!==a.charAt(0)&&(a="?"+a),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),s+r+e+a+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}var e=new Url;if(Object.keys(this).forEach(function(t){e[t]=this[t]},this),e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(s){"protocol"!==s&&(e[s]=t[s])}),slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e;if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol])return Object.keys(t).forEach(function(s){e[s]=t[s]}),e.href=e.format(),e;if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),e.pathname=h.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var r=e.pathname||"",o=e.search||"";e.path=r+o}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var a=e.pathname&&"/"===e.pathname.charAt(0),n=t.host||t.pathname&&"/"===t.pathname.charAt(0),i=n||a||e.host&&t.pathname,l=i,c=e.pathname&&e.pathname.split("/")||[],h=t.pathname&&t.pathname.split("/")||[],u=e.protocol&&!slashedProtocol[e.protocol];if(u&&(e.hostname="",e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),i=i&&(""===h[0]||""===c[0])),n)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,c=h;else if(h.length)c||(c=[]),c.pop(),c=c.concat(h),e.search=t.search,e.query=t.query;else if(!isNullOrUndefined(t.search)){if(u){e.hostname=e.host=c.shift();var p=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;p&&(e.auth=p.shift(),e.host=e.hostname=p.shift())}return e.search=t.search,e.query=t.query,isNull(e.pathname)&&isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!c.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var f=c.slice(-1)[0],m=(e.host||t.host)&&("."===f||".."===f)||""===f,v=0,g=c.length;g>=0;g--)f=c[g],"."==f?c.splice(g,1):".."===f?(c.splice(g,1),v++):v&&(c.splice(g,1),v--);if(!i&&!l)for(;v--;v)c.unshift("..");!i||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift(""),m&&"/"!==c.join("/").substr(-1)&&c.push("");var y=""===c[0]||c[0]&&"/"===c[0].charAt(0);if(u){e.hostname=e.host=y?"":c.length?c.shift():"";var p=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;p&&(e.auth=p.shift(),e.host=e.hostname=p.shift())}return i=i||e.host&&c.length,i&&!y&&c.unshift(""),c.length?e.pathname=c.join("/"):(e.pathname=null,e.path=null),isNull(e.pathname)&&isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"punycode":1,"querystring":4}],6:[function(require,module,exports){
function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var o=arguments,e=this.useColors;if(o[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+o[0]+(e?"%c ":" ")+"+"+exports.humanize(this.diff),!e)return o;var r="color: "+this.color;o=[o[0],r,"color: inherit"].concat(Array.prototype.slice.call(o,1));var t=0,s=0;return o[0].replace(/%[a-z%]/g,function(o){"%%"!==o&&(t++,"%c"===o&&(s=t))}),o.splice(s,0,r),o}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(o){try{null==o?exports.storage.removeItem("debug"):exports.storage.debug=o}catch(e){}}function load(){var o;try{o=exports.storage.debug}catch(e){}return o}function localstorage(){try{return window.localStorage}catch(o){}}exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(o){return JSON.stringify(o)},exports.enable(load());
},{"./debug":7}],7:[function(require,module,exports){
function selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(e){function r(){}function o(){var e=o,r=+new Date,s=r-(prevTime||r);e.diff=s,e.prev=prevTime,e.curr=r,prevTime=r,null==e.useColors&&(e.useColors=exports.useColors()),null==e.color&&e.useColors&&(e.color=selectColor());var t=Array.prototype.slice.call(arguments);t[0]=exports.coerce(t[0]),"string"!=typeof t[0]&&(t=["%o"].concat(t));var n=0;t[0]=t[0].replace(/%([a-z%])/g,function(r,o){if("%%"===r)return r;n++;var s=exports.formatters[o];if("function"==typeof s){var p=t[n];r=s.call(e,p),t.splice(n,1),n--}return r}),"function"==typeof exports.formatArgs&&(t=exports.formatArgs.apply(e,t));var p=o.log||exports.log||console.log.bind(console);p.apply(e,t)}r.enabled=!1,o.enabled=!0;var s=exports.enabled(e)?o:r;return s.namespace=e,s}function enable(e){exports.save(e);for(var r=(e||"").split(/[\s,]+/),o=r.length,s=0;o>s;s++)r[s]&&(e=r[s].replace(/\*/g,".*?"),"-"===e[0]?exports.skips.push(new RegExp("^"+e.substr(1)+"$")):exports.names.push(new RegExp("^"+e+"$")))}function disable(){exports.enable("")}function enabled(e){var r,o;for(r=0,o=exports.skips.length;o>r;r++)if(exports.skips[r].test(e))return!1;for(r=0,o=exports.names.length;o>r;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevColor=0,prevTime;
},{"ms":8}],8:[function(require,module,exports){
function parse(e){if(e=""+e,!(e.length>1e4)){var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(a){var r=parseFloat(a[1]),c=(a[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return r*y;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h;case"minutes":case"minute":case"mins":case"min":case"m":return r*m;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function short(e){return e>=d?Math.round(e/d)+"d":e>=h?Math.round(e/h)+"h":e>=m?Math.round(e/m)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function long(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(s,e,a){return e>s?void 0:1.5*e>s?Math.floor(s/e)+" "+a:Math.ceil(s/e)+" "+a+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){return e=e||{},"string"==typeof s?parse(s):e["long"]?long(s):short(s)};
},{}],9:[function(require,module,exports){
function assignWith(s,e,r){for(var i=-1,a=keys(e),n=a.length;++i<n;){var g=a[i],t=s[g],o=r(t,e[g],g,s,e);(o===o?o===t:t!==t)&&(void 0!==t||g in s)||(s[g]=o)}return s}var baseAssign=require("lodash._baseassign"),createAssigner=require("lodash._createassigner"),keys=require("lodash.keys"),assign=createAssigner(function(s,e,r){return r?assignWith(s,e,r):baseAssign(s,e)});module.exports=assign;
},{"lodash._baseassign":10,"lodash._createassigner":12,"lodash.keys":16}],10:[function(require,module,exports){
function baseAssign(e,s){return null==s?e:baseCopy(s,keys(s),e)}var baseCopy=require("lodash._basecopy"),keys=require("lodash.keys");module.exports=baseAssign;
},{"lodash._basecopy":11,"lodash.keys":16}],11:[function(require,module,exports){
function baseCopy(e,o,r){r||(r={});for(var a=-1,n=o.length;++a<n;){var t=o[a];r[t]=e[t]}return r}module.exports=baseCopy;
},{}],12:[function(require,module,exports){
function createAssigner(e){return restParam(function(r,a){var i=-1,t=null==r?0:a.length,l=t>2?a[t-2]:void 0,n=t>2?a[2]:void 0,o=t>1?a[t-1]:void 0;for("function"==typeof l?(l=bindCallback(l,o,5),t-=2):(l="function"==typeof o?o:void 0,t-=l?1:0),n&&isIterateeCall(a[0],a[1],n)&&(l=3>t?void 0:l,t=1);++i<t;){var s=a[i];s&&e(r,s,l)}return r})}var bindCallback=require("lodash._bindcallback"),isIterateeCall=require("lodash._isiterateecall"),restParam=require("lodash.restparam");module.exports=createAssigner;
},{"lodash._bindcallback":13,"lodash._isiterateecall":14,"lodash.restparam":15}],13:[function(require,module,exports){
function bindCallback(n,t,r){if("function"!=typeof n)return identity;if(void 0===t)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,c){return n.call(t,r,e,u,c)};case 5:return function(r,e,u,c,i){return n.call(t,r,e,u,c,i)}}return function(){return n.apply(t,arguments)}}function identity(n){return n}module.exports=bindCallback;
},{}],14:[function(require,module,exports){
function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function isArrayLike(e){return null!=e&&isLength(getLength(e))}function isIndex(e,t){return e="number"==typeof e||reIsUint.test(e)?+e:-1,t=null==t?MAX_SAFE_INTEGER:t,e>-1&&e%1==0&&t>e}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var r=typeof t;if("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&MAX_SAFE_INTEGER>=e}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var reIsUint=/^\d+$/,MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length");module.exports=isIterateeCall;
},{}],15:[function(require,module,exports){
function restParam(r,t){if("function"!=typeof r)throw new TypeError(FUNC_ERROR_TEXT);return t=nativeMax(void 0===t?r.length-1:+t||0,0),function(){for(var a=arguments,e=-1,n=nativeMax(a.length-t,0),i=Array(n);++e<n;)i[e]=a[t+e];switch(t){case 0:return r.call(this,i);case 1:return r.call(this,a[0],i);case 2:return r.call(this,a[0],a[1],i)}var c=Array(t+1);for(e=-1;++e<t;)c[e]=a[e];return c[t]=i,r.apply(this,c)}}var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max;module.exports=restParam;
},{}],16:[function(require,module,exports){
function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function isArrayLike(e){return null!=e&&isLength(getLength(e))}function isIndex(e,t){return e="number"==typeof e||reIsUint.test(e)?+e:-1,t=null==t?MAX_SAFE_INTEGER:t,e>-1&&e%1==0&&t>e}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&MAX_SAFE_INTEGER>=e}function shimKeys(e){for(var t=keysIn(e),r=t.length,n=r&&e.length,s=!!n&&isLength(n)&&(isArray(e)||isArguments(e)),o=-1,i=[];++o<r;){var u=t[o];(s&&isIndex(u,n)||hasOwnProperty.call(e,u))&&i.push(u)}return i}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function keysIn(e){if(null==e)return[];isObject(e)||(e=Object(e));var t=e.length;t=t&&isLength(t)&&(isArray(e)||isArguments(e))&&t||0;for(var r=e.constructor,n=-1,s="function"==typeof r&&r.prototype===e,o=Array(t),i=t>0;++n<t;)o[n]=n+"";for(var u in e)i&&isIndex(u,t)||"constructor"==u&&(s||!hasOwnProperty.call(e,u))||o.push(u);return o}var getNative=require("lodash._getnative"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray"),reIsUint=/^\d+$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeKeys=getNative(Object,"keys"),MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length"),keys=nativeKeys?function(e){var t=null==e?null:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&isArrayLike(e)?shimKeys(e):isObject(e)?nativeKeys(e):[]}:shimKeys;module.exports=keys;
},{"lodash._getnative":17,"lodash.isarguments":18,"lodash.isarray":19}],17:[function(require,module,exports){
function baseToString(t){return"string"==typeof t?t:null==t?"":t+""}function isObjectLike(t){return!!t&&"object"==typeof t}function getNative(t,e){var r=null==t?void 0:t[e];return isNative(r)?r:void 0}function isNative(t){return null==t?!1:objToString.call(t)==funcTag?reIsNative.test(fnToString.call(t)):isObjectLike(t)&&reIsHostCtor.test(t)}function escapeRegExp(t){return t=baseToString(t),t&&reHasRegExpChars.test(t)?t.replace(reRegExpChars,"\\$&"):t}var funcTag="[object Function]",reRegExpChars=/[.*+?^${}()|[\]\/\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+escapeRegExp(fnToString.call(hasOwnProperty)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=getNative;
},{}],18:[function(require,module,exports){
function isObjectLike(t){return!!t&&"object"==typeof t}function baseProperty(t){return function(e){return null==e?void 0:e[t]}}function isArrayLike(t){return null!=t&&isLength(getLength(t))}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&MAX_SAFE_INTEGER>=t}function isArguments(t){return isObjectLike(t)&&isArrayLike(t)&&objToString.call(t)==argsTag}var argsTag="[object Arguments]",objectProto=Object.prototype,objToString=objectProto.toString,MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length");module.exports=isArguments;
},{}],19:[function(require,module,exports){
function baseToString(r){return"string"==typeof r?r:null==r?"":r+""}function isObjectLike(r){return!!r&&"object"==typeof r}function getNative(r,t){var e=null==r?void 0:r[t];return isNative(e)?e:void 0}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&MAX_SAFE_INTEGER>=r}function isNative(r){return null==r?!1:objToString.call(r)==funcTag?reIsNative.test(fnToString.call(r)):isObjectLike(r)&&reIsHostCtor.test(r)}function escapeRegExp(r){return r=baseToString(r),r&&reHasRegExpChars.test(r)?r.replace(reRegExpChars,"\\$&"):r}var arrayTag="[object Array]",funcTag="[object Function]",reRegExpChars=/[.*+?^${}()|[\]\/\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+escapeRegExp(fnToString.call(hasOwnProperty)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nativeIsArray=getNative(Array,"isArray"),MAX_SAFE_INTEGER=9007199254740991,isArray=nativeIsArray||function(r){return isObjectLike(r)&&isLength(r.length)&&objToString.call(r)==arrayTag};module.exports=isArray;
},{}],20:[function(require,module,exports){
function isIndex(e,r){return e="number"==typeof e||reIsUint.test(e)?+e:-1,r=null==r?MAX_SAFE_INTEGER:r,e>-1&&e%1==0&&r>e}function isKey(e,r){var t=typeof e;if("string"==t&&reIsPlainProp.test(e)||"number"==t)return!0;if(isArray(e))return!1;var n=!reIsDeepProp.test(e);return n||null!=r&&e in toObject(r)}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&MAX_SAFE_INTEGER>=e}function toObject(e){return isObject(e)?e:Object(e)}function last(e){var r=e?e.length:0;return r?e[r-1]:void 0}function isObject(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}function has(e,r){if(null==e)return!1;var t=hasOwnProperty.call(e,r);if(!t&&!isKey(r)){if(r=toPath(r),e=1==r.length?e:baseGet(e,baseSlice(r,0,-1)),null==e)return!1;r=last(r),t=hasOwnProperty.call(e,r)}return t||isLength(e.length)&&isIndex(r,e.length)&&(isArray(e)||isArguments(e))}var baseGet=require("lodash._baseget"),baseSlice=require("lodash._baseslice"),toPath=require("lodash._topath"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray"),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reIsUint=/^\d+$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,MAX_SAFE_INTEGER=9007199254740991;module.exports=has;
},{"lodash._baseget":21,"lodash._baseslice":22,"lodash._topath":23,"lodash.isarguments":24,"lodash.isarray":25}],21:[function(require,module,exports){
function baseGet(t,e,n){if(null!=t){void 0!==n&&n in toObject(t)&&(e=[n]);for(var o=0,c=e.length;null!=t&&c>o;)t=t[e[o++]];return o&&o==c?t:void 0}}function toObject(t){return isObject(t)?t:Object(t)}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}module.exports=baseGet;
},{}],22:[function(require,module,exports){
function baseSlice(e,r,l){var a=-1,n=e.length;r=null==r?0:+r||0,0>r&&(r=-r>n?0:n+r),l=void 0===l||l>n?n:+l||0,0>l&&(l+=n),n=r>l?0:l-r>>>0,r>>>=0;for(var o=Array(n);++a<n;)o[a]=e[a+r];return o}module.exports=baseSlice;
},{}],23:[function(require,module,exports){
function baseToString(r){return"string"==typeof r?r:null==r?"":r+""}function toPath(r){if(isArray(r))return r;var e=[];return baseToString(r).replace(rePropName,function(r,a,t,n){e.push(t?n.replace(reEscapeChar,"$1"):a||r)}),e}var isArray=require("lodash.isarray"),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reEscapeChar=/\\(\\)?/g;module.exports=toPath;
},{"lodash.isarray":25}],24:[function(require,module,exports){
arguments[4][18][0].apply(exports,arguments)
},{"dup":18}],25:[function(require,module,exports){
arguments[4][19][0].apply(exports,arguments)
},{"dup":19}],26:[function(require,module,exports){
function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}module.exports=isObject;
},{}],27:[function(require,module,exports){
"use strict";var url=require("url"),punycode=require("punycode"),queryString=require("query-string"),prependHttp=require("prepend-http"),sortKeys=require("sort-keys"),objectAssign=require("object-assign"),DEFAULT_PORTS={"http:":80,"https:":443,"ftp:":21};module.exports=function(e,r){if(r=objectAssign({normalizeProtocol:!0,stripFragment:!0},r),"string"!=typeof e)throw new TypeError("Expected a string");var t=0===e.indexOf("//");e=prependHttp(e.trim()).replace(/^\/\//,"http://");var o=url.parse(e);delete o.host,delete o.query,r.stripFragment&&delete o.hash;var a=DEFAULT_PORTS[o.protocol];Number(o.port)===a&&delete o.port,o.pathname=o.pathname.replace(/\/{2,}/,"/");var p=o.protocol+"//"+o.hostname,s=url.resolve(p,o.pathname);return o.pathname=s.replace(p,""),o.hostname=punycode.toUnicode(o.hostname).toLowerCase(),o.hostname=o.hostname.replace(/^www\./,""),"?"===o.search&&delete o.search,o.search=queryString.stringify(sortKeys(queryString.parse(o.search))),o.search=decodeURIComponent(o.search),e=url.format(o),e=e.replace(/\/$/,""),t&&!r.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),e};
},{"object-assign":28,"prepend-http":29,"punycode":1,"query-string":30,"sort-keys":31,"url":5}],28:[function(require,module,exports){
"use strict";function ToObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}module.exports=Object.assign||function(e,t){for(var n,r,c=ToObject(e),o=1;o<arguments.length;o++){n=arguments[o],r=Object.keys(Object(n));for(var u=0;u<r.length;u++)c[r[u]]=n[r[u]]}return c};
},{}],29:[function(require,module,exports){
"use strict";module.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.trim().replace(/^(?!(?:\w+:)?\/\/)/,"http://")};
},{}],30:[function(require,module,exports){
"use strict";exports.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.trim().split("&").reduce(function(e,n){var r=n.replace(/\+/g," ").split("="),o=r[0],t=r[1];return o=decodeURIComponent(o),t=void 0===t?null:decodeURIComponent(t),e.hasOwnProperty(o)?Array.isArray(e[o])?e[o].push(t):e[o]=[e[o],t]:e[o]=t,e},{}):{})},exports.stringify=function(e){return e?Object.keys(e).sort().map(function(n){var r=e[n];return Array.isArray(r)?r.sort().map(function(e){return encodeURIComponent(n)+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(n)+"="+encodeURIComponent(r)}).join("&"):""};
},{}],31:[function(require,module,exports){
"use strict";module.exports=function(e,t){if("object"!=typeof e)throw new TypeError("Expected an object");var o={};return Object.keys(e).sort(t).forEach(function(t){o[t]=e[t]}),o};
},{}],32:[function(require,module,exports){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function _defaults(e,r){for(var t=Object.getOwnPropertyNames(r),o=0;o<t.length;o++){var n=t[o],p=Object.getOwnPropertyDescriptor(r,n);p&&p.configurable&&void 0===e[n]&&Object.defineProperty(e,n,p)}return e}Object.defineProperty(exports,"__esModule",{value:!0});var _requestInterceptor=require("./requestInterceptor");_defaults(exports,_interopRequireWildcard(_requestInterceptor));var _responseInterceptor=require("./responseInterceptor");_defaults(exports,_interopRequireWildcard(_responseInterceptor));
},{"./requestInterceptor":33,"./responseInterceptor":34}],33:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),RequestInterceptor=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"request",value:function(e){}},{key:"requestError",value:function(e){}}]),e}();exports.RequestInterceptor=RequestInterceptor;
},{}],34:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),ResponseInterceptor=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"response",value:function(e){}},{key:"responseError",value:function(e){}}]),e}();exports.ResponseInterceptor=ResponseInterceptor;
},{}],35:[function(require,module,exports){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function _defaults(e,r){for(var t=Object.getOwnPropertyNames(r),o=0;o<t.length;o++){var i=t[o],n=Object.getOwnPropertyDescriptor(r,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}Object.defineProperty(exports,"__esModule",{value:!0});var _restClient=require("./restClient/");_defaults(exports,_interopRequireWildcard(_restClient));var _coreBaseInterceptors=require("./core/baseInterceptors");_defaults(exports,_interopRequireWildcard(_coreBaseInterceptors));
},{"./core/baseInterceptors":32,"./restClient/":37}],36:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_superagentEs6Promise=require("superagent-es6-promise"),_superagentEs6Promise2=_interopRequireDefault(_superagentEs6Promise),_utils=require("./utils"),Http=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"request",value:function(e){var t=_superagentEs6Promise2["default"](e.method,e.url);return Object.keys(e.headers).forEach(function(r){return t.set(r,e.headers[r])}),_utils.isNotEmpty(e.query)&&e.query.forEach(t.query.bind(t)),_utils.isNotEmpty(e.data)&&e.data.forEach(t.send.bind(t)),t}}]),e}();exports.Http=Http;
},{"./utils":42,"superagent-es6-promise":43}],37:[function(require,module,exports){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function _defaults(e,r){for(var t=Object.getOwnPropertyNames(r),s=0;s<t.length;s++){var i=t[s],o=Object.getOwnPropertyDescriptor(r,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}Object.defineProperty(exports,"__esModule",{value:!0});var _restClient=require("./restClient");_defaults(exports,_interopRequireWildcard(_restClient));var _request=require("./request");_defaults(exports,_interopRequireWildcard(_request));var _response=require("./response");_defaults(exports,_interopRequireWildcard(_response));var _restResource=require("./restResource");_defaults(exports,_interopRequireWildcard(_restResource));
},{"./request":38,"./response":39,"./restClient":40,"./restResource":41}],38:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_utils=require("./utils"),_normalizeUrl=require("normalize-url"),_normalizeUrl2=_interopRequireDefault(_normalizeUrl),_response=require("./response"),_coreBaseInterceptors=require("../core/baseInterceptors/"),Request=function(){function e(r,t,n){var s=void 0===arguments[3]?{}:arguments[3];_classCallCheck(this,e),this._baseUrl=r,this._interceptors=s.interceptors||[],this._http=s.http,this.resourceName=t,this._allConfig=s,this._config=s[t]||{},this._restKeys=["findAll","search","findOne","save","toJSON"],this._url=null,this.method="get",this.responseType=Object,this.restResource=n,this.headers=s.defaultHeaders,this.query=[],this.data=[]}return _createClass(e,[{key:"url",set:function(e){this._url=_normalizeUrl2["default"](e)},get:function(){return _normalizeUrl2["default"](this._url)}},{key:"addInterceptor",value:function(e){var r=void 0===arguments[1]?!0:arguments[1];return r?this._interceptors.push(e):this._interceptors.unshift(e),this}},{key:"query",value:function(e){return this.query.push(e),this}},{key:"set",value:function(e,r){return this.headers[e]=r,this}},{key:"send",value:function(e){return this.data.push(e),this}},{key:"_proxifyOne",value:function(e){var r=this,t=function(e){if(!e)return e;var t={};return Object.keys(e).forEach(function(n){~r._restKeys.indexOf(n)||(t[n]=e[n])}),t},n=t(e);return Object.defineProperty(n,"**oldState**",{value:t(e)}),["findAll","search","findOne"].forEach(function(e){n[e]=function(t){for(var s=arguments.length,i=Array(s>1?s-1:0),u=1;s>u;u++)i[u-1]=arguments[u];var o=r._baseUrl+r.resourceName+"/"+n.id+"/",a=r.restResource._createSubInstance(o,t,r._allConfig);return a[e].apply(a,i).sendRequest()}}),n.save=function(){return r.restResource.save(n.toJSON())},n.toJSON=function(){return t(this)},n}},{key:"proxify",value:function(e){var r=this,t=e.value;e.request;if(!Array.isArray(t))return this._proxifyOne(t);var n=function(){var e=[];return t.forEach(function(t){return e.push(r._proxifyOne(t))}),{v:e}}();return"object"==typeof n?n.v:void 0}},{key:"sendRequest",value:function(){var e=this,r=void 0===arguments[0]?!0:arguments[0],t=function(r){return e._http.request(r).then(function(e){var t=e.body;if(!t&&e.text)try{t=JSON.parse(e.text)}catch(n){t=null}return new _response.Response(t,e,r)})},n=[t,void 0];_utils.isNotEmpty(this._interceptors)&&this._interceptors.forEach(function(e){e instanceof _coreBaseInterceptors.RequestInterceptor&&n.unshift(e.request.bind(e),e.requestError.bind(e)),e instanceof _coreBaseInterceptors.ResponseInterceptor&&n.push(e.response.bind(e),e.responseError.bind(e))});for(var s=Promise.resolve(this);n.length;){var i=n.shift(),u=n.shift();s=s.then(i,u)}return s=s.then(function(t){return r&&(t.value=e.proxify(t)),t})}}]),e}();exports.Request=Request;
},{"../core/baseInterceptors/":32,"./response":39,"./utils":42,"normalize-url":27}],39:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),_lodashIsobject=require("lodash.isobject"),_lodashIsobject2=_interopRequireDefault(_lodashIsobject),Response=function(){function e(t,r,s){_classCallCheck(this,e),this.value=t,this.result=r,this.request=s}return _createClass(e,[{key:"hasValue",value:function(){return Array.isArray(this.value)||_lodashIsobject2["default"](this.value)}}]),e}();exports.Response=Response;
},{"lodash.isobject":26}],40:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,s,r){return s&&e(t.prototype,s),r&&e(t,r),t}}(),_http=require("./http"),_restResource=require("./restResource"),_lodashAssign=require("lodash.assign"),_lodashAssign2=_interopRequireDefault(_lodashAssign),RestClient=function(){function e(t){var s=void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,e),this._baseUrl=t,this._config=s,this._interceptors=s.interceptors||[],this._headers=s.headers||{},this._http=s.http||null,this._cache={}}return _createClass(e,[{key:"baseUrl",set:function(e){this._baseUrl=e}},{key:"addHeader",value:function(e,t){this._headers[e]=t}},{key:"http",set:function(e){this._http=e}},{key:"addInterceptor",value:function(e){var t=void 0===arguments[1]?!0:arguments[1];t?this._interceptors.push(e):this._interceptors.unshift(e)}},{key:"resource",value:function(e){var t=void 0===arguments[1]?{}:arguments[1];if(!this._cache[e]){var s=_lodashAssign2["default"]({},this._config,t);s.defaultHeaders=_lodashAssign2["default"]({},this._headers,t.defaultHeaders||{}),s.interceptors=(t.interceptors||[]).concat(this._interceptors),s.http||(s.http=this._http),this._cache[e]=new _restResource.RestResource(this._baseUrl,e,s)}return this._cache[e]}}]),e}();exports.RestClient=RestClient;
},{"./http":36,"./restResource":41,"lodash.assign":9}],41:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),_request=require("./request"),_http=require("./http"),RestResource=function(){function e(t,r){var s=void 0===arguments[2]?{}:arguments[2];_classCallCheck(this,e),this._baseUrl=t+"/",this.resourceName=r,this._config=s,this._config.defaultHeaders=s.defaultHeaders||{},this._config.interceptors=s.interceptors||[],this._config.http=s.http||new _http.Http}return _createClass(e,[{key:"constructBaseRequest",value:function(){var e=void 0===arguments[0]?"get":arguments[0],t=void 0===arguments[1]?Array:arguments[1],r=void 0===arguments[2]?"":arguments[2],s=new _request.Request(this._baseUrl,this.resourceName,this,this._config);return s.responseType=t,s.url=this._baseUrl+this.resourceName+r,s.method=e,s}},{key:"config",set:function(e){this._config=e}},{key:"findAll",value:function(){return this.constructBaseRequest()}},{key:"findOne",value:function(e){return this.constructBaseRequest("get",Object,"/"+e)}},{key:"save",value:function(e){var t=void 0;return t=e.hasOwnProperty("id")?this.merge(e):this.create(e),t.sendRequest()}},{key:"create",value:function(e){return this.constructBaseRequest("post",Object).send(e)}},{key:"merge",value:function(e){return this.constructBaseRequest("put",Object,"/"+e.id).send(e)}},{key:"_createSubInstance",value:function(t,r,s){return new e(t,r,s)}}]),e}();exports.RestResource=RestResource;
},{"./http":36,"./request":38}],42:[function(require,module,exports){
"use strict";function isNotEmpty(t){return t&&Array.isArray(t)&&t.length}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNotEmpty=isNotEmpty;
},{}],43:[function(require,module,exports){
var superagent=module.exports=require("superagent"),Request=superagent.Request,SuperagentPromiseError=superagent.SuperagentPromiseError=function(e){this.name="SuperagentPromiseError",this.message=e||"Bad request"};SuperagentPromiseError.prototype=new Error,SuperagentPromiseError.prototype.constructor=SuperagentPromiseError,Request.prototype.promise=function(){var e,r=this;return new Promise(function(t,o){r.end(function(s,n){if("undefined"!=typeof n&&n.status>=400){var u="cannot "+r.method+" "+r.url+" ("+n.status+")";e=new SuperagentPromiseError(u),e.status=n.status,e.body=n.body,e.res=n,o(e)}else s?o(new SuperagentPromiseError(s)):t(n)})})},Request.prototype.then=function(){var e=this.promise();return e.then.apply(e,arguments)};
},{"superagent":44}],44:[function(require,module,exports){
function noop(){}function isHost(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function isObject(t){return t===Object(t)}function serialize(t){if(!isObject(t))return t;var e=[];for(var r in t)null!=t[r]&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}function parseString(t){for(var e,r,s={},i=t.split("&"),o=0,n=i.length;n>o;++o)r=i[o],e=r.split("="),s[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return s}function parseHeader(t){var e,r,s,i,o=t.split(/\r?\n/),n={};o.pop();for(var a=0,u=o.length;u>a;++a)r=o[a],e=r.indexOf(":"),s=r.slice(0,e).toLowerCase(),i=trim(r.slice(e+1)),n[s]=i;return n}function type(t){return t.split(/ *; */).shift()}function params(t){return reduce(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),s=r.shift(),i=r.shift();return s&&i&&(t[s]=i),t},{})}function Response(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function Request(t,e){var r=this;Emitter.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new Response(r)}catch(s){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=s,r.callback(t)}if(r.emit("response",e),t)return r.callback(t,e);if(e.status>=200&&e.status<300)return r.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,r.callback(t||i,e)})}function request(t,e){return"function"==typeof e?new Request("GET",t).end(e):1==arguments.length?new Request("GET",t):new Request(t,e)}var Emitter=require("emitter"),reduce=require("reduce"),root="undefined"==typeof window?this||self:window;request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var trim="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(t){return this.header[t.toLowerCase()]},Response.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=type(e);var r=params(e);for(var s in r)this[s]=r[s]},Response.prototype.parseBody=function(t){var e=request.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},Response.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},Response.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,s="cannot "+e+" "+r+" ("+this.status+")",i=new Error(s);return i.status=this.status,i.method=e,i.url=r,i},request.Response=Response,Emitter(Request.prototype),Request.prototype.use=function(t){return t(this),this},Request.prototype.timeout=function(t){return this._timeout=t,this},Request.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},Request.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},Request.prototype.set=function(t,e){if(isObject(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},Request.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},Request.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},Request.prototype.type=function(t){return this.set("Content-Type",request.types[t]||t),this},Request.prototype.accept=function(t){return this.set("Accept",request.types[t]||t),this},Request.prototype.auth=function(t,e){var r=btoa(t+":"+e);return this.set("Authorization","Basic "+r),this},Request.prototype.query=function(t){return"string"!=typeof t&&(t=serialize(t)),t&&this._query.push(t),this},Request.prototype.field=function(t,e){return this._formData||(this._formData=new root.FormData),this._formData.append(t,e),this},Request.prototype.attach=function(t,e,r){return this._formData||(this._formData=new root.FormData),this._formData.append(t,e,r),this},Request.prototype.send=function(t){var e=isObject(t),r=this.getHeader("Content-Type");if(e&&isObject(this._data))for(var s in t)this._data[s]=t[s];else"string"==typeof t?(r||this.type("form"),r=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==r?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||isHost(t)?this:(r||this.type("json"),this)},Request.prototype.callback=function(t,e){var r=this._callback;this.clearTimeout(),r(t,e)},Request.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},Request.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(t){var e=this,r=this.xhr=request.getXHR(),s=this._query.join("&"),i=this._timeout,o=this._formData||this._data;this._callback=t||noop,r.onreadystatechange=function(){if(4==r.readyState){var t;try{t=r.status}catch(s){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var n=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(r.onprogress=n);try{r.upload&&this.hasListeners("progress")&&(r.upload.onprogress=n)}catch(a){}if(i&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},i)),s&&(s=request.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof o&&!isHost(o)){var u=request.serialize[this.getHeader("Content-Type")];u&&(o=u(o))}for(var h in this.header)null!=this.header[h]&&r.setRequestHeader(h,this.header[h]);return this.emit("request",this),r.send(o),this},request.Request=Request,request.get=function(t,e,r){var s=request("GET",t);return"function"==typeof e&&(r=e,e=null),e&&s.query(e),r&&s.end(r),s},request.head=function(t,e,r){var s=request("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.del=function(t,e){var r=request("DELETE",t);return e&&r.end(e),r},request.patch=function(t,e,r){var s=request("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.post=function(t,e,r){var s=request("POST",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.put=function(t,e,r){var s=request("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},module.exports=request;
},{"emitter":45,"reduce":46}],45:[function(require,module,exports){
function Emitter(t){return t?mixin(t):void 0}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},Emitter.prototype.once=function(t,e){function i(){r.off(t,i),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,s=0;s<i.length;s++)if(r=i[s],r===e||r.fn===e){i.splice(s,1);break}return this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var r=0,s=i.length;s>r;++r)i[r].apply(this,e)}return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length};
},{}],46:[function(require,module,exports){
module.exports=function(l,n,e){for(var r=0,t=l.length,u=3==arguments.length?e:l[r++];t>r;)u=n.call(null,u,l[r],++r,l);return u};
},{}],47:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;s=c=u=void 0,n=!1;var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,r=a,n=!0}},_vador=require("vador"),_interceptors=require("./interceptors/"),HalRequest=function(e){function t(e,r,n){var o=void 0===arguments[3]?{}:arguments[3];_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r,n,o),this._populate=[],this._relations=this._config.relations||null,this._restKeys.push("**links**","**selfLink**","**hasLinks**");var i=[new _interceptors.EmbeddedExtractorInterceptor,new _interceptors.LinkExtractorInterceptor,new _interceptors.IdExtractorInterceptor,new _interceptors.PopulateInterceptor];this._interceptors=i.concat(this._interceptors)}return _inherits(t,e),_createClass(t,[{key:"populate",value:function(){for(var e,t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];return(e=this._populate).push.apply(e,r),this}},{key:"populates",get:function(){return this._populate}},{key:"hasPopulate",value:function(){var e=this._populate;return Array.isArray(e)&&e.length>0}},{key:"_proxifyOne",value:function(e,r){var n=this,o=_get(Object.getPrototypeOf(t.prototype),"_proxifyOne",this).call(this,e),i=e["**links**"];return i&&Object.keys(i).forEach(function(e){if(!o.hasOwnProperty(e)){var t=i[e],r=t.substring(0,t.indexOf(e)),a=n.restResource._createSubInstance(r,e);!function(t){var r=void 0;Object.defineProperty(o,""+e+"Async",{enumerable:!1,get:function(){return void 0!==r?Promise.resolve(r):t.findAll().sendRequest().spread(function(e){return r=e,Promise.resolve(r)})}})}(a)}}),o}}]),t}(_vador.Request);exports.HalRequest=HalRequest;
},{"./interceptors/":53,"vador":35}],48:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_get=function(e,r,t){for(var n=!0;n;){var a=e,o=r,u=t;s=l=i=void 0,n=!1;var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var i=s.get;return void 0===i?void 0:i.call(u)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,r=o,t=u,n=!0}},_vador=require("vador"),_lodashAssign=require("lodash.assign"),_lodashAssign2=_interopRequireDefault(_lodashAssign),_halRequest=require("./halRequest"),HalResource=function(e){function r(){_classCallCheck(this,r),null!=e&&e.apply(this,arguments)}return _inherits(r,e),_createClass(r,[{key:"_createSubInstance",value:function(e,t,n){return new r(e,t,n)}},{key:"constructBaseRequest",value:function(){var e=void 0===arguments[0]?"get":arguments[0],r=void 0===arguments[1]?Array:arguments[1],t=void 0===arguments[2]?"":arguments[2],n=new _halRequest.HalRequest(this._baseUrl,this.resourceName,this,this._config);return n.responseType=r,n.url=this._baseUrl+this.resourceName+t,n.method=e,n}},{key:"_transformToLink",value:function(e,r,t){var n=this,a=null,o=r.href,u=r.type;if(null===e)return{type:u,newValue:a};if("many"===u){if(!Array.isArray(e))throw new Error("For relation "+t+", the value must be an Array");a=[],e.forEach(function(e){var r=n._transformToLinkOne(e,o,t);null!==r&&a.push(r)})}else a=this._transformToLinkOne(e,o,t);return{type:u,newValue:a}}},{key:"_transformToLinkOne",value:function(e,r,t){if(null==e)return null;if(e.id)return(""+r+"/"+e.id).replace(/\/{2,}/,"/");throw new Error("For relation "+t+", the value must have id")}},{key:"save",value:function(e){var t=this,n=_lodashAssign2["default"]({},this._relations||{});return n&&Object.keys(n).forEach(function(r){if(e.hasOwnProperty(r)){var a=t._transformToLink(e[r],n[r],r),o=(a.type,a.newValue);e[r]=o}}),_get(Object.getPrototypeOf(r.prototype),"save",this).call(this,e)}}]),r}(_vador.RestResource);exports.HalResource=HalResource;
},{"./halRequest":47,"lodash.assign":9,"vador":35}],49:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_vador=require("vador"),_halResource=require("./halResource"),_lodashAssign=require("lodash.assign"),_lodashAssign2=_interopRequireDefault(_lodashAssign),HalRestClient=function(e){function t(){_classCallCheck(this,t),null!=e&&e.apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"resource",value:function(e){var t=void 0===arguments[1]?{}:arguments[1];if(!this._cache[e]){var r=_lodashAssign2["default"]({},this._config,t);r.defaultHeaders=_lodashAssign2["default"]({},this._headers,t.defaultHeaders||{}),r.interceptors=(t.interceptors||[]).concat(this._interceptors),r.http||(r.http=this._http),this._cache[e]=new _halResource.HalResource(this._baseUrl,e,r)}return this._cache[e]}}]),t}(_vador.RestClient);exports.HalRestClient=HalRestClient;
},{"./halResource":48,"lodash.assign":9,"vador":35}],50:[function(require,module,exports){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function _defaults(e,r){for(var t=Object.getOwnPropertyNames(r),i=0;i<t.length;i++){var a=t[i],l=Object.getOwnPropertyDescriptor(r,a);l&&l.configurable&&void 0===e[a]&&Object.defineProperty(e,a,l)}return e}Object.defineProperty(exports,"__esModule",{value:!0});var _halRestClient=require("./halRestClient");_defaults(exports,_interopRequireWildcard(_halRestClient));var _halResource=require("./halResource");_defaults(exports,_interopRequireWildcard(_halResource));var _halRequest=require("./halRequest");_defaults(exports,_interopRequireWildcard(_halRequest));var _interceptors=require("./interceptors");_defaults(exports,_interopRequireWildcard(_interceptors));
},{"./halRequest":47,"./halResource":48,"./halRestClient":49,"./interceptors":53}],51:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),_get=function(e,r,t){for(var o=!0;o;){var a=e,n=r,u=t;s=d=i=void 0,o=!1;var s=Object.getOwnPropertyDescriptor(a,n);if(void 0!==s){if("value"in s)return s.value;var i=s.get;return void 0===i?void 0:i.call(u)}var d=Object.getPrototypeOf(a);if(null===d)return void 0;e=d,r=n,t=u,o=!0}},_vador=require("vador"),_lodashHas=require("lodash.has"),_lodashHas2=_interopRequireDefault(_lodashHas),_debug=require("debug"),_debug2=_interopRequireDefault(_debug),debug=new _debug2["default"]("halClient [Interceptor]"),EMBEDDED="_embedded",EmbeddedExtractorInterceptor=function(e){function r(e){_classCallCheck(this,r),_get(Object.getPrototypeOf(r.prototype),"constructor",this).call(this),this.tagEmbedded=e||EMBEDDED}return _inherits(r,e),_createClass(r,[{key:"response",value:function(e){debug("embedded extractor start",e.request.resourceName,e.request.responseType,e.value);var r=e.value,t=e.request;if(t.responseType===Array&&_lodashHas2["default"](r,""+this.tagEmbedded+"."+t.resourceName)){var o=[];for(var a in r)a!==this.tagEmbedded&&(o[a]=r[a]);o.push.apply(o,_toConsumableArray(r[this.tagEmbedded][t.resourceName])),r=o}return e.value=r,debug("embedded extractor end"),e}},{key:"responseError",value:function(e){console.error("embedded extractor responseError",e)}}]),r}(_vador.ResponseInterceptor);exports.EmbeddedExtractorInterceptor=EmbeddedExtractorInterceptor;
},{"debug":6,"lodash.has":20,"vador":35}],52:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_vador=require("vador"),_lodashHas=require("lodash.has"),_lodashHas2=_interopRequireDefault(_lodashHas),_debug=require("debug"),_debug2=_interopRequireDefault(_debug),debug=new _debug2["default"]("halClient [Interceptor]"),REGEX_LASTPART=/\/([^\/]*)\/?$/,IdExtractorInterceptor=function(e){function r(){_classCallCheck(this,r),null!=e&&e.apply(this,arguments)}return _inherits(r,e),_createClass(r,[{key:"response",value:function(e){var r=this;debug("id extractor start");var t=e.value;return e.hasValue()?(Array.isArray(t)?t.forEach(function(e){return r._extractId(e)}):this._extractId(t),debug("id extractor end"),e):(debug("id extractor end (do nothing)"),e)}},{key:"_extractId",value:function(e){if(!e.id){var r=e["**selfLink**"];if(r){var t=r.match(REGEX_LASTPART);t.length>1&&(e.id=t[1])}}}},{key:"responseError",value:function(e){console.error("id extractor responseError"),console.error(e.stack)}}]),r}(_vador.ResponseInterceptor);exports.IdExtractorInterceptor=IdExtractorInterceptor;
},{"debug":6,"lodash.has":20,"vador":35}],53:[function(require,module,exports){
"use strict";function _interopRequireWildcard(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e["default"]=r,e}function _defaults(r,e){for(var t=Object.getOwnPropertyNames(e),o=0;o<t.length;o++){var c=t[o],a=Object.getOwnPropertyDescriptor(e,c);a&&a.configurable&&void 0===r[c]&&Object.defineProperty(r,c,a)}return r}Object.defineProperty(exports,"__esModule",{value:!0});var _idExtractorInterceptor=require("./idExtractorInterceptor");_defaults(exports,_interopRequireWildcard(_idExtractorInterceptor));var _linkExtractorInterceptor=require("./linkExtractorInterceptor");_defaults(exports,_interopRequireWildcard(_linkExtractorInterceptor));var _embeddedExtractorInterceptor=require("./embeddedExtractorInterceptor");_defaults(exports,_interopRequireWildcard(_embeddedExtractorInterceptor));var _populateInterceptor=require("./populateInterceptor");_defaults(exports,_interopRequireWildcard(_populateInterceptor));
},{"./embeddedExtractorInterceptor":51,"./idExtractorInterceptor":52,"./linkExtractorInterceptor":54,"./populateInterceptor":55}],54:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;s=u=l=void 0,n=!1;var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,r=i,n=!0}},_vador=require("vador"),_lodashHas=require("lodash.has"),_lodashHas2=_interopRequireDefault(_lodashHas),_lodashIsobject=require("lodash.isobject"),_lodashIsobject2=_interopRequireDefault(_lodashIsobject),_debug=require("debug"),_debug2=_interopRequireDefault(_debug),debug=new _debug2["default"]("halClient [Interceptor]"),TAG_LINK="_links",TAG_HREF="href",TAG_SELF="self",LinkExtractorInterceptor=function(e){function t(e,r,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.tagLink=e||TAG_LINK,this.tagHref=r||TAG_HREF,this.tagSelf=n||TAG_SELF}return _inherits(t,e),_createClass(t,[{key:"response",value:function(e){var t=this;debug("link extractor start");var r=e.value;return e.hasValue()?(Array.isArray(r)?r.forEach(function(e){return t._extractOne(e)}):this._extractOne(r),debug("link extractor end"),e):(debug("link extractor end (do nothing)"),e)}},{key:"_extractOne",value:function(e){var t=!1;if(_lodashHas2["default"](e,""+this.tagLink)&&_lodashIsobject2["default"](e[this.tagLink])){debug("add **links**"),t=!0;var r=this._formatLinks(e[this.tagLink]),n=r.finalLinks,o=r.selfLink;this._defineProperty(e,"**links**",n),this._defineProperty(e,"**selfLink**",o)}this._defineProperty(e,"**hasLinks**",t)}},{key:"_defineProperty",value:function(e,t,r){e.hasOwnProperty(t)?e[t]=r:Object.defineProperty(e,t,{value:r,writable:!0})}},{key:"_formatLinks",value:function(e){var t=this,r={},n=null;return Object.keys(e).forEach(function(o){var a=e[o];_lodashIsobject2["default"](a)&&_lodashHas2["default"](a,t.tagHref)&&(o===t.tagSelf?n=a[t.tagHref]:r[o]=a[t.tagHref])}),{finalLinks:r,selfLink:n}}},{key:"responseError",value:function(e){console.error("link extractor responseError",e)}}]),t}(_vador.ResponseInterceptor);exports.LinkExtractorInterceptor=LinkExtractorInterceptor;
},{"debug":6,"lodash.has":20,"lodash.isobject":26,"vador":35}],55:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_vador=require("vador"),_lodashHas=require("lodash.has"),_lodashHas2=_interopRequireDefault(_lodashHas),_debug=require("debug"),_debug2=_interopRequireDefault(_debug),debug=new _debug2["default"]("halClient [Interceptor]"),CACHE_FETCH="**cache_fetch**",PopulateInterceptor=function(e){function t(){_classCallCheck(this,t),null!=e&&e.apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"response",value:function(e){var t=this;debug("populate interceptor begin");var r=e.value,n=e.request;if(!e.hasValue()||!n.hasPopulate())return debug("Populate extractor end (do nothing)"),e;var o=[];return Array.isArray(r)?r.forEach(function(e){o.push(t._populateOne(e,n))}):o.push(this._populateOne(r,n)),Promise.all(o).then(function(){return debug("populate interceptor end"),e})}},{key:"_populateOne",value:function(e,t){debug("populate one");var r=e["**links**"];e[CACHE_FETCH]=[];var n=[];return t.populates.forEach(function(o){var u=o.split("."),a=u.shift(),l=r[a];if(a&&_lodashHas2["default"](r,a)){e[CACHE_FETCH].push(l);var s=l.substring(0,l.indexOf(a)),i=t.restResource._createSubInstance(s,a),p=i.findAll();u&&u.length&&p.populate(u.join(".")),p=p.sendRequest().then(function(t){e[a]=t.value}),n.push(p)}}),Promise.all(n).then(function(){return _lodashHas2["default"](e,CACHE_FETCH)&&delete e[CACHE_FETCH],e})}},{key:"responseError",value:function(e){console.error("populate extractor responseError",e)}}]),t}(_vador.ResponseInterceptor);exports.PopulateInterceptor=PopulateInterceptor;
},{"debug":6,"lodash.has":20,"vador":35}]},{},[50])(50)
});

